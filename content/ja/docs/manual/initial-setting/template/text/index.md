+++
description = "日報テンプレートに文字入力フォームを追加します。本文や備考・引き継ぎなどの文章入力エリアとして利用できます"
tags = []
title = "🧩テキスト入力"
toc = true
weight = 101001102
contributors = []
aliases = ["/manual/initial-setting/template/text/"]

+++

{{<icatch filename="input-method-keyboard" msg="日報の本文や引 き継ぎの入力に最適" title="テキスト入力フォーム" fontsize="30px" alice="ok" >}}

## テキスト入力フォームとは

テキスト入力フォームは日報やチェックシート上にシンプルな文字の入力フォームを追加できるパーツです。
PCからはキーボードを使って入力し、スマートフォンやタブレットでは液晶のキーボードを使って文字の入力ができます。
見た目は1行しか入力できないように見えますが、**改行を入れることで入力エリアが自動で広がります**。
主な用途としては業務報告内容や引き継ぎ項目、所感、備考欄などに活用できます。

## テキスト入力フォームの初期設定

テキスト入力フォームを日報やチェックシートのテンプレートに追加すると次のような設定項目が指定できます。

共通の設定項目については[「各種入力フォームの共通設定項目」](/docs/manual/initial-setting/template/make/#common_setting)を参照してください。
以下は本入力フォームにのみ存在する設定項目です


<dl>
  <dt>入力必須</dt>
  <dd>これがONの場合、日報提出時に文字が空欄だと日報が提出できなくなります</dd>
  <dt>初期値</dt>
  <dd>日報新規作成時に最初から文字を入力済みにできます。不要の場合は空欄にしておきます</dd>
</dl>

## テキスト入力フォームの使用例

テキスト入力フォームを4つ含んだ日報テンプレートを作成してみました。1つは入力必須が設定され、1つは背景色を赤に変更しています。
実際のテンプレート作成イメージは次の画像のような構成です。

{{<appscreen filename="report-template-edit" title="日報テンプレートの作成画面イメージ。テキスト入力フォームのみを4つ配置したシンプルな構図。入力必須と色の変更も使っています"  >}}

この日報テンプレートを使って、実際に日報を作成する画面と、作成された日報を表示する画面をそれぞれ確認してみましょう。

### テキスト入力フォームの日報を作成

実際にスタッフが入力する際の画面を確認してみましょう。
テキスト入力フォームの入力イメージは次の画像のようになります。

{{<imgproc input-method-keyboard_tablet.png "テキスト入力フォームを含んだ日報の入力画面。タブレットとスマホで比較" />}}

「引き継ぎ」の項目は入力必須ですが空欄のため、画像のように「入力必須」の警告が表示されて提出ボタンが押せなくなります。また「報告」の欄では改行を入れていることが確認できます。
このように改行を入れると日報テンプレートの高さが行に合わせて自動で伸縮します。

{{<alice pos="right" icon="ok">}}
目立たせたい項目があればこのように背景色を変えることで強調されますね
{{</alice>}}

### テキスト入力フォームの日報を表示

特にひねりはなく、入力された文字がそのまま表示されます。使用している端末の画面幅によっては文字が自動で折り返されて表示されます。例えばスマートフォンから見ると見え方がまた変わります。

{{<appscreen filename="report-detail" title="テキストの日報を読む"  >}}

## データ活用編

テキスト入力フォームが含まれた日報はCSV出力やPDF出力、検索に対応しています。

|[集計可否](/docs/manual/analytics/)|[CSV出力](/docs/manual/analytics/csv/)|[PDF出力](/docs/manual/read-report/pdf/)|[文字検索](/docs/manual/read-report/list/)|
|:---:|:---:|:---:|:---:|
|✗|○|○|○|

### テキスト入力フォームのデータをCSVに出力する

テキストの日報はそのままCSVに出力できます。テキスト入力フォームにおいてはCSV出力の設定は特に有りません。

少し専門的な話になりますが、テキスト内で改行が使用された場合はそのまま「改行コード」としてCSVに出力されます。この際は本文全体がダブルクォーテーション（")で括られて出力されます。

{{<alice pos="right" icon="ok">}}改行が含まれないテキストデータはダブルクォーテーションが付与されません{{</alice>}}

例えば改行を含むデータをCSVに出力し、エクセルで表示した場合は次のように見えます

{{<imgproc text-report-to-csv.png "テキスト入力フォームを含んだ日報をCSVに出力したときの例" />}}

### 検索機能

テキスト入力フォームで入力された値は全文検索用データベースにインデックスされるため、テキスト入力フォームのデータを対象に検索することができます。

{{<imgproc full-text-search-report.png "テキスト入力フォームに入力された文字はすべて検索の対象となります。あいまい検索が適用されるため多少の誤字や全角・半角の違いは無視して検索できます" />}}

### PDF出力

PDFに出力したときはこのように表現されます

{{<imgproc text-report-to-pdf.png "テキスト入力フォームを含んだ日報をPDFに出力する" />}}
