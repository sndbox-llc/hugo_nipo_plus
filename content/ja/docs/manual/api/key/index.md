+++
description = "APIキーを使うことでCurlといったコマンドからレポートデータを取得できます。本ガイドはAPIキーの取得、破棄についての操作ガイドです"
tags = ["有料プラン限定", "スタッフアカウント管理"]

title = "🔑APIキーの取得"
toc = true
weight = 101010001
aliases = ["/docs/manual/api/"]
images = ["invoke-api-key_tablet.png"]
+++

APIを使うとアプリを使わず直接レポートのデータを取得することができます。
主に外部のシステムと連携するのに使用します。
APIキーでレポートを読むことができるのでAPIキーは厳重に管理し、外部に漏洩しないように注意してください。

## APIキーを有効にする{#enable}

APIの有効無効設定は管理者権限が必要です。

1. メニューから組織設定をクリック
1. APIを有効にするスタッフを見つける
1. APIの項目をクリックして緑色のボタンにする

{{<icatch filename="enable-api" msg="スタッフごとにAPIキーの利用を許可・禁止にできます。初期状態では全スタッフが「禁止」です">}}

初期状態では全員無効（赤色ボタン）です。安全のためにも利用するスタッフは最小限にとどめてください

## APIキーの取得{#get_key}

APIキーは上記手順で有効されたスタッフの画面から取得ができます。

1. メニューから「アカウント」をクリックします
1. APIのセクションまでスクロールします
1. ログインパスワードを入力します
1. APIキーの取得ボタンをクリックします

{{<icatch filename="apikeyGet" msg="APIキーを取得するには再認証のためログインパスワードの入力が必要です">}}

上記の手順で正しいパスワードが入力されるとAPIキーが表示されます。コピーして保存します。

## APIキーを無効にする{#disable}

以下の場合はAPIキーを速やかに無効化してください。

- APIキーが外部に流出した可能性がある
- APIを使う必要が無くなった
- APIを使用しているスタッフが退職した

APIキーを無効にする方法はいくつかあります。一番シンプルなのはAPIを有効にするときの逆の手順で、管理者がスタッフのAPIを赤色ボタン（無効）にすることです。

上記手順以外にAPIキーを無効にする方法もありますが、他の手順は無効化時にログアウトされます。

- スタッフアカウントのAPI発行画面の下部にある「APIの破壊」をクリック
- スタッフアカウントの状態が「無効」にされるとき
- ユーザアカウントが削除されたとき
- ユーザアカウントで大きな変更が検知された時（パスワードやメールアドレスの変更など）
