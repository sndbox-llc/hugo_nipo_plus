<nav class="footer-nav" style="overflow: hidden;">

    {{/*  ãƒ•ãƒƒã‚¿ãƒ¼è¨˜äº‹ä¸€è¦§ãƒ»ã‚«ãƒ†ã‚´ãƒªã®ä¸¦ã³é †ã€‚æœªè¨˜è¼‰ã®ãƒ‡ãƒ¼ã‚¿ã¯éè¡¨ç¤º */}}
    {{ $sectionOrder := slice 
        "docs"
        "legacy"
        "lp"
        "reverse"
        "news"
        "excel"
        "tips"
        "others"
    }}
    {{/* â­ ã‚»ã‚¯ã‚·ãƒ§ãƒ³åã¨è¡¨ç¤ºåã®ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆè¾æ›¸ï¼‰ã‚’å®šç¾© â­ */}}
    {{ $sectionMap := dict
        "docs" "ğŸ“˜ NipoPlusãƒãƒ‹ãƒ¥ã‚¢ãƒ«"
        "excel" "ğŸ“Š ã‚¨ã‚¯ã‚»ãƒ«æ´»ç”¨ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯"
        "legacy" "ğŸ’¾ æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®Nipo"
        "news" "ğŸ“¢ ãŠçŸ¥ã‚‰ã›"
        "tech" "ğŸ’» æŠ€è¡“ãƒ–ãƒ­ã‚°"
        "tips" "ğŸ’¡ ä¾¿åˆ©ãªä½¿ã„æ–¹"
        "lp" "âœ¨ ç‰¹è¨­è¨˜äº‹"
        "reverse" "ğŸ” éå»ã®è³ªå•é›†"
        "others" "ğŸ·ï¸ ãã®ä»–"
    }}

    {{/* 1. showBottom: true ã®è¨˜äº‹ã‚’å–å¾— */}}
    {{ $allRegularPages := .Site.RegularPages }}
    {{ $footerPages := where $allRegularPages "Params.hideFooter" "!=" true }}

    {{/* 2. å–å¾—ã—ãŸè¨˜äº‹ã‚’ã‚»ã‚¯ã‚·ãƒ§ãƒ³åã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼ˆã‚«ãƒ†ã‚´ãƒªåˆ†ã‘ï¼‰*/}}
    {{ $groupedPages := $footerPages.GroupBy "Section" }}

    <div class="row px-2">

        {{ range $key := $sectionOrder }}
            {{/* $groupedPages ã®ä¸­ã§ Key ãŒ $key ã«ä¸€è‡´ã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ã‚’æ¢ã™ */}}
            {{ $groupList := where $groupedPages "Key" $key }} 
            
                {{/* ã‚°ãƒ«ãƒ¼ãƒ—ãŒå­˜åœ¨ã™ã‚‹å ´åˆï¼ˆãƒªã‚¹ãƒˆã®æœ€åˆã®è¦ç´ ãŒã‚ã‚‹å ´åˆï¼‰ã®ã¿å‡¦ç† */}}
                {{ with index $groupList 0 }}
                
                    <div class="footer-column  col-xl-4 col-md-5 col-sm-8 col-xs-16">
                        {{/* â­ è¡¨ç¤ºã™ã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³åã‚’å–å¾— â­ */}}
                        {{ $sectionKey := .Key }}
                        {{ $sectionTitle := default $sectionKey (index $sectionMap $sectionKey) }}

                        {{/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³åï¼ˆåˆ—ã®ã‚¿ã‚¤ãƒˆãƒ«ï¼‰ã‚’è¡¨ç¤º */}}
                        <h4 class="column-title">{{ $sectionTitle }}</h4>

            
                        <ul class="list-unstyled column-list">
                            {{/* with ã®ä¸­ã¯ . ãŒã‚°ãƒ«ãƒ¼ãƒ—ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æŒ‡ã™ãŸã‚ .Pages ã‚’ä½¿ç”¨ */}}
                            {{ range sort .Pages "Params.bottomWeight" }}
                                {{ $linkText := default .Title .Params.menuTitle }}
                                {{/* ğŸ’¡ ã“ã“ã‹ã‚‰è¿½åŠ ãƒ»ä¿®æ­£ ğŸ’¡ */}}
                                {{ $isActive := eq . ($.Page) }} 
                                {{ $activeClass := "" }}
                                {{ if $isActive }}
                                    {{ $activeClass = "footerNaviActive" }}
                                {{ end }}

                                <li class="nav-item {{ $activeClass }}"><a href="{{ .Permalink | relURL }}" title="{{ .Title }}">{{ $linkText }}</a></li>
                            {{ end }}
                        </ul>
                    </div>
                {{ end }}
        {{ end }}
    </div>
</nav>