+++
description = "速いと噂のM1マックブックを買ってみました。プログラマ視点でM1マックは業務にそのまま使えるのかを書いてみました。"
menuTitle = "M1マックブック"
tags = []
title = "プログラマがM1マックを購入して実際に使った感想"
toc = true
weight = 10
+++

## 新型MacBook Airを購入しました

これまでクラウド日報Nipoやクラウド顧客管理Maroudの開発で利用してきたMacBook Pro 15Inch(Late 2016)の限界を感じ始めたため、アップルが新しくリリースしたM1マックブックをこの度購入しました。  
巷では「すごい」と噂のM1マックですが、一方で、CPUがガラッと切り替わったため、これまでのソフトが動かないといった互換性の問題も囁かれています。  
利用するソフトによって差はありますが、私はプログラマーなのでプログラマがM1マックを使って、率直に感じた感想をまとめてみます。  
なお、ヨドバシカメラでもカスタムモデルのMacが購入でき、なおかつポイントも5%付きますので、購入を検討されている方はヨドバシのMacおすすめですよ。  

## だめな点

### Node JS 12がまともに動作しなかった

新型MacBookでは、NodeJS Version12がまともに動きません。一応、動くことは動くのですが非常にスローペースです。  
ロゼッタとNodeJSの相性が極端に悪いのかもしれませんが、 npm installというコマンドを完了するのに30分近くかかりました。  
M1に対応しているNodeJSはVersion 15〜となります。 nvmでNode15をインストールすれば、サクサクとnpm installが完了しました。  
しかし様々な事情があって、NodeJSのバージョンを上げたくない（または上げることができない）場合があるでしょう。私もその一人です。特に製品ビルドには Node12を使う必要があります。  
開発はM1を使い、ビルドだけIntel版のMacで処理をする　という2刀流のやり方が必要になりそうです。  

追記: 原因はよくわかりませんがnode 14にしたらサクサク動くようになりました。 14というのがポイントで、14はネイティブに対応していないはずですが改善されています。  

### pod installが使えない

これも仕方ないことですが、 pod installをするにはロゼッタを有効にする必要があります。  
ターミナルの起動をロゼッタモードで起動するのが地味に面倒なので、ターミナル系はロゼッタ無しスタイルでやろうと思います。  
Node12がまともに動作しないことも手伝って、この辺は古いMacbook Proさんと併用していこうと思います。  

### USB-Cの端子が左側にしか無いことが地味に辛い

Macbook Pro15インチは左右にUSB-Cがあるため、左、右どちらからでも充電ができました。これは地味に便利で、ご家庭のコンセント事情によって使い分けができます。  
私の開発環境はコンセントがMacbookからみて右側にあるため、充電する際はケーブルをぐるーっとマックの後ろから回り込まなければなりません。小さな問題ですが地味に辛く感じました。  

## 良かった点

### とにかく早い

アプリをDevモードで起動するまでに、Macbook Proでは30秒、M1マックでは15秒でした。  
起動時だけではなく、例えばブラウザのリロード速度や、VSCodeのコードインテリセンス（文字の補完機能みたいなやつ）の対応速度が1段階早くなっています。  
一挙手一投足がとにかく洗練された速度になっており、操作全てが快適に感じました。

### ファンレス。静か。でも熱くならない

私の購入したモデルは Mac Book Airで、ファンレスモデルです。  
最初は心配でしたが、全くの杞憂でした。多少の負荷であればCPUはほとんど熱を出しません。
Intel版のMacはちょっと動かすと暖かくなり、（冬場は地味にありがたいのですが）酷使するとファンが高速で回転し始めます。  

### 軽量小型ボディで持ち運びもらくらくです

最初は16インチのM1マックが出るまで待つつもりでしたが、我慢できずに買ってしまったM1 MacBook Air。  
使ってみると以外にも小さすぎるとは感じませんでした。13インチなら13インチなりの作業方法があり、思いの外快適に作業できています。  
思えば最初に買ったMacbookも13インチでした。  
13インチから15インチになったときに、大きくて快適と感じ、15インチから13インチになったときは、これはこれでありだな？と思える。そんなものです。

### 互換性の問題も徐々に解決しつつある

CPUが変わったことで互換性の問題がありますが、メジャーどころなソフトは思った以上に早くM1に対応してくれています。  
様々なWebサイトではM1でインストールできない場合の対応法などを紹介してくれている記事が沢山でてきました。
発売直後と違い、このあたりの問題がだいぶこなれてきた感じがあり、あと1年もすればほぼ気にならないレベルにまで移行が進むのでは？と期待してしまいます。  

### この性能で15インチマックの半額で購入できたこと

わたしの15インチマック（16GB 512GB)は、購入当時35万円ほどしました。吊るしモデルで最上位モデルを購入しました。  
今回のM1マックは、メモリ16GB ストレージ512GBに拡張させましたが16万円ほどです。  
15インチを購入したときに比べて半額以下で買えて、なおかつ性能が大幅に向上（メモリとストレージは同じ）しました。  

## セカンドマシンとしては買い！初めてのMacなら少し慎重に（プログラマの場合)

M1を買ってプログラムを始めたい！という場合は前述の通り開発環境を整えるのが少し大変です。  
モノによってはまともに動作しないケースもありますので、少し慎重になる必要があります。  
このあたりは徐々に時間が解決してくれることでしょうが、もう少しだけ、時間がかかりそうです。  
しかしこの時期にIntel版のMacを買うのも、なんか寂しいですね。中古市場ではM1の出現でIntel版のMacが値下がりしているようなので、中古のIntel版Macを買うのもありです。  
ロゼッタを過信してはいけない。。。もう少しだけIntel版のMacにも頑張ってもらいます。  

### 2021年6月19日追記

使えないものがいくつか見つかりました。  
静的サイトジェネレータの「[Gatsby](https://www.gatsbyjs.com/)」がそのままでは動作しませんでした。解決策はみんなの味方[Qiita](https://qiita.com/yudwig/items/c533f676b7b8015da723)に記載があります。  
同様に、静的サイトジェネレータの「[GridSome](https://gridsome.org/)」もM1マックでは動きません。  
どうも画像圧縮処理系のプログラムがM1マックではうまくインストールできないようで、失敗するようです。  
よって、Nuxt-jsの「[Nuxt-img](https://image.nuxtjs.org/components/nuxt-img/)」も対策しないとうまく動きませんでした。  
[解決策はGitHubのissue](https://github.com/nuxt/image/issues/204)に上がっています。

{{<alice pos="left" icon="default">}}
Nipoの姉妹アプリ「Maroud」のWebサイトを作るときにつまづいたよ
{{</alice>}}


Quasarが提供している[icon Genie](https://quasar.dev/icongenie/introduction)もインストールに失敗します。
とまぁ、割と細かいところで問題が発生します。エラーを読んで調べるくらいのことができれば解決できますが、Intel版ではそもそもこんな問題が発生しないため、  
いずれにせよ「余計な手間」であることには変わりありません。

### 2021/12/6日追記

M1搭載のMacbook Pro16インチも発売されたことですし、久しぶりに追記します。
HomeBrewを消してインストールし直したら問題の多くは解決しました。初期設定が悪かったのか・・・？原因はよくわかりません。  
いろいろな記事を比較して読み、書かれていることを片っ端から試行錯誤で試したので何が良かったのか、何がだめだったのかはイマイチよくわからないです。  
現在ではCapacitorを使ってAndroid/IOSアプリのビルドまでもM1で問題なくできるようになったということです。  
それでもたまにエラーはでますが、頻度としてはだいぶ少なくなりました。ここ数ヶ月はIntel版のMacを一切使わずにM1のMac1台で仕事ができると感じています。

### 2022/8/19 追記

記事の記載サイトをこのページへ移転しました。
M1Macのその後ですが、2022/8/19本日時点において大きな問題はその後発生しておらず、安定期に入っています。
昨今では為替相場などの影響により決して安くは買えなくなりました。そのため当時のコスパの良さが失われてしまったのは残念ですが、為替相場だけはどうしようもないですね。
