+++
url = "/docs/manual/analytics/cross/"

title = "📊クロス集計 - 異なるテンプレートのデータを横断分析し、製造業のKPIを可視化" # 機能の核とメリットを強調
menuTitle = "クロス集計"
description = "NipoPlusのクロス集計機能は、日報や点検シート、生産報告など、異なるテンプレート間で収集されたデータを横断的に集計・比較し、新たな知見や課題を発見します。製造部品ごとの不良率計算、複数生産ラインの効率比較、異なる工程間の進捗分析など、製造業の複雑なKPIを可視化し、データに基づいた品質管理と生産性向上を強力に支援します。" # メリットとユニークな機能、SEOキーワードを網羅
toc = true
weight = 50335
tags = ["有料プラン限定", "クロス集計", "横断分析", "多角的分析", "製造業データ", "品質管理", "生産性分析", "KPI可視化", "不良率計算", "複数テンプレート集計", "データ分析", "業務改善"] # SEOタグを拡充
contributors = []
+++

{{< callout context="note" title="集計機能の有効化が必要です" icon="outline/info-circle" >}}
左メニューに「集計」ボタンが表示されない場合は、<a href="/docs/setup/setting-group/#optionalFunction">グループ設定</a>から集計機能を有効にしてください。
{{< /callout >}}

NipoPlusの「<strong>クロス集計</strong>」機能は、**異なる複数のテンプレート（日報、点検シート、生産報告書など）に記録されたデータを、一つの表にまとめて横断的に比較・集計**する強力な機能です。

例えば、以下のような複数のテンプレートが存在する場合を考えてみましょう。

- A部品 点検シート（生産数、不良数、不良原因などを記録）
- B部品 点検シート（同上）
- C部品 点検シート（同上）

A部品、B部品、C部品それぞれの生産数や不良数は、通常の[集計機能（累積表や推移表）](/docs/manual/analytics/_about/)で簡単に集計が可能です。しかし、「**部品Aと部品Bと部品C全体の不良率を比較したい**」「異なる生産ライン（それぞれ別の日報テンプレートを使用）の生産性を比較したい」といった、**複数のデータソースを横断した分析**には、クロス集計が不可欠です。

クロス集計は、**バラバラに存在するデータから全体の傾向や問題を抽出し、製造業における品質管理、生産性分析、複数工程の進捗管理**など、複雑なKPIを可視化することで、**データに基づいた意思決定と業務改善**を強力に支援します。

## クロス集計テーブルを作成する{#make}

クロス集計テーブルは、1グループに付き最大で50個まで作成が可能です。

1.  左メニューの「<strong>集計・CSV出力</strong>」をクリックし、集計画面を表示します。
2.  画面下部の「<strong>クロス集計を作成</strong>」ボタンをクリックします。

{{<icatch filename="img/table-make" msg="異なるテンプレート（日報、点検シート、生産報告書など）のデータを同時に集計するクロス集計テーブルを作成します" alice="here">}}

クロス集計テーブル作成ウィンドウがポップアップで全画面に表示されます。
この画面からクロス集計テーブルを作っていきます。

### テーブルの行と列を作成する{#row_col}

クロス集計テーブルは、**行と列、そしてそれらが交差するセル**で構成されます。

テンプレートを追加すると、自動的に1行（横方向）が追加されます。テンプレートは画面右端の「○件選択」のプルダウンから選択します。
列には「<strong>参照列</strong>」と「<strong>計算列</strong>」の2種類があり、参照列ではテンプレート内の入力フォームを指定できます（計算列は後述）。

{{<icatch filename="img/table-edit" msg="クロス集計の行には集計したいテンプレート、列には集計したい項目（参照列、計算列）を設定します" alice="here">}}

上のテーブルは、2つのテンプレート（タイトルを除き2行）と、2つの参照列を追加した例です。
参照列はクリックするだけで追加されますが、そのままだと「列1」のような分かりにくい名前で表示されるため、鉛筆アイコンから名前を分かりやすいものに変更してください。
行と列が交差するセルには、どの値を表示するかをプルダウンで選びます。プルダウンで選べるのはテンプレート内の**集計可能な入力フォーム**に限られます。

### 計算列について - 独自のKPIを算出{#fomula}

<strong>計算列</strong>は、参照列のデータをもとに**簡単な四則演算（＋・ー・✕・÷）**を行うことができる特別な列です。
これにより、NipoPlusの集計機能ではカバーできない**独自のKPIや指標を算出**できます。

例えば、**生産数と破損数を使って、不良率（破損数 ÷ 生産数 × 100）を計算する**際に計算列を利用できます。
ここではシンプルに1列目の生産数と2列めの品質を単純に掛け算する列を作りたいときは次の画像のように設計します。

{{<icatch filename="img/calc-field" msg="クロス集計に計算列を追加し、不良率や稼働率など、独自のKPIを自動で計算させましょう" alice="here">}}

### 結果のプレビューと保存{#save}

実際に作成したクロス集計の結果はプレビューで確認できます。

{{<icatch filename="img/previews" msg="クロス集計の結果をプレビューで表示。設定した行と列、計算列が意図通りに表示されているか確認しましょう" alice="here">}}

通常の列にはレポートの集計結果が表示され、計算列には指定した計算式に基づいたデータが表示されます。
※数値が全て0の場合、使用するデータがない可能性があります。

最後にクロス集計に分かりやすい名前をつけて、「<strong>保存</strong>」ボタンをクリックして保存します。
保存されたクロス集計はクロス集計一覧に表示され、クリックで表示します。複数種類のクロス集計がある場合はボタンを押すごとにテーブルが切り替わります。
集計の期間は右パネルのカレンダーで変更可能です。

{{<icatch filename="img/view" msg="作成したクロス集計を表示します。異なるテンプレートのデータを横断的に比較し、全体像を把握しましょう" alice="ok">}}

これでA部品とB部品、異なるテンプレートで作成された業務レポートを同時に比較できるようになりました。

## クロス集計テーブルを編集する{#edit}

作成したクロス集計の構造（表示するテンプレート、参照列、計算列など）を修正する必要がある場合は、修正したいクロス集計を表示後、鉛筆アイコンをクリックします。
編集画面は新規作成画面とほぼ同じです。
