+++
description = "日報テンプレートからグラフに使用する項目とグラフの種類を選ぶだけで日報を手軽にグラフ化できます。新着日報があればグラフも自動で更新されます。複数のグラフを登録できワンクリックで素早く切り替えが可能"
menuTitle = "日報をグラフ化"
tags = []
title = "日報をグラフ化する"
toc = true
weight = 11
+++

{{<icatch filename="chart" msg="日報をグラフ化して 視覚的に分析が可能" title="日報をグラフ化する" fontsize="30px" alice="guide" >}}

テンプレートの入力フォームによってはグラフ化することが可能な入力フォームがあります。
日報データをCSVに出力してエクセル上からグラフを作ることも可能ですが、NipoPlus上で直接グラフを作成することも可能です。
グラフは予め登録しておけばワンクリックで簡単に表示できますので、とても手軽でありながら効果的です。

## グラフの種類

NipoPlusで作成可能なグラフには、「円グラフ」「折れ線グラフ」「棒グラフ」「積み上げ棒グラフ」「レーダーチャート」の５種類があります。
折れ線グラフと棒グラフ（または積み上げ棒グラフ）を組み合わせた「複合グラフ」も作成可能です。

## グラフ化の手順

様々なタイプのグラフが作れますが、最初はシンプルに折れ線グラフの作り方見てみましょう。グラフ化する日報のテンプレートは次の画像のとおりです。

{{<imgproc source-data.png "5つの数値入力フォームがある日報。これをグラフ化する" />}}

国語・算数・理科・英語・社会、合計5つの入力フォームがある日報です。この内上の３つは[数値入力フォーム](/manual/initial-setting/groupsetting/template/math/)を使用し、下の2つは[スライダ入力フォーム](/manual/initial-setting/groupsetting/template/step/)を使用していますがいづれもグラフ化可能です。
グラフを作成するには、過去データ推移の下にある「グラフ作成」ボタンをクリックします。ポップアップでグラフ作成ウィザードが表示されます。

### Step1. グラフの種類を選ぶ

グラフ作成ウィザードは3ステップで構成されています。第一ステップではグラフの種類を選択します。ここでは「折れ線グラフ」を選択しました。
選んだら「次へ」ボタンをクリックします。

{{<imgproc select-chart-type.png "手順1:グラフの種類を選びます" />}}

### Step2. グラフに使用するフィールドを選ぶ

日報テンプレートの入力フォームからグラフとして利用可能なものが自動でリストアップして一覧に表示されます。
ここからグラフとして使用したい入力フォームにチェックを入れてください。チェックを入れたものだけがグラフの対象になります。この例では3つチェックしています。
{{<imgproc select-use-field.png "手順2:グラフに使用するフィールドを選びます" />}}

### Step3. グラフのプレビューを確認する

グラフのプレビューが表示されますのでイメージどおりか確認します。
グラフにわかりやすい名前をつけておきましょう。複数種類グラフを登録できるので、名前を適切にすることで管理しやすくなります。

{{<imgproc chart-preview.png "手順3:詳細設定" />}}

その他、グラフのタイプとして今回は「推移」を選んでいます。推移は横軸に時間をとり時系列でグラフ化します。
一方で累積はスタッフ毎の集計のグラフになります。

最後に設定完了ボタンをクリックしてください。これでグラフが作成できました。

### 作成したグラフを表示する

作成したグラフはグラフ一覧に並びます。クリックでそのグラフが表示されます。

{{<imgproc chart-created.png "グラフを表示する" />}}

グラフタイプが「推移」のものはグループ化集計が可能です。グループ化とは「同日」など基準を設けてその範囲の日報を合算してグラフ化する仕組みです。
初期状態ではグループ化は無効になっています。グループ化すると次のようになります。

{{<imgproc grouping.png "グループ化を「同日」で生成するとグラフとデータシート双方が変化します" />}}

{{<alice pos="right" icon="ok">}}
グラフの設定はアカウントの単位で記録されるので、各々のスタッフが自由にグラフを作ってOKですよ
{{</alice>}}

### 累積グラフと推移グラフの違い

上記のサンプルでは推移グラフを作りましたが、もう1つ、累積グラフも作成できます。
累積はスタッフごとに集計を行い、スタッフ同士の比較をする際に便利なグラフです。
一方で日毎の集計などができません。

{{<imgproc each-staff-chart.png "スタッフを基準にグラフ化する" />}}

推移グラフは時間を基準にとるため、日毎の推移などを見るのに適しています。
その代わりスタッフ毎の細かいデータはわかりません。
全員の日報が1つの折れ線にまとまっていると考えてください。
スタッフ個別のデータよりも全体の推移を見たい場合に適しています。

{{<imgproc time.png "時間を基準グラフ化する" />}}

{{<alice pos="right" icon="ok">}}
目的に応じて適材適所！2つ作っておけば簡単に切り替えできるよ
{{</alice>}}

## その他様々なグラフを作る

基本的な折れ線グラフの作り方を紹介しました。ここからはその他の様々なグラフについて紹介していきます。
種類によっては設定項目などが若干変化するものもあります。

### 第２軸を使って複合グラフを作る

グラフの種類が「折れ線」「棒グラフ」の場合は第2軸を指定することで複合グラフを作ることができます。

グラフの種類が「折れ線グラフ」の場合は第1軸が折れ線グラフとなり、第2軸が棒グラフになります。
グラフの種類が「棒グラフ」の場合は第1軸が棒グラフとなり、第2軸が折れ線グラフになります。

{{<imgproc seccond-axis-chart.png "第２軸" />}}

第2軸を使う利点はデータに大きな開きがある場合です。一方が五桁、一方が一桁のようなデータを同じグラフにすると一桁のデータが潰れてしまい、ほぼ役に立ちません。
こういった場合に第2軸をつかうことで一桁のデータもきちんと機能するようになります。

### 積み上げ棒グラフを作る

グラフの種類を「積み上げ棒グラフ」にするとデータが積み上げられて表示されます。
前述した第二軸と組み合わせることで積み上げ棒グラフ＆折れ線グラフの複合グラフも作成できます。

{{<imgproc stack-bar-chart.png "積み上げ棒グラフと折れ線グラフを組み合わせた例" />}}

### 円グラフを作成する

円グラフは全体に占める割合を表します。推移では期間内の合計をもとに円グラフを生成します。

{{<imgproc pie-chart.png "推移で円グラフを作成" />}}
累積では各項目ごとにスタッフ別に集計されてグラフが作成されます。累積はスタッフ数×項目数となるため数が多くなりがちです。

{{<imgproc pie-chart-accumulation.png "累積で円グラフを作成" />}}

### レーダーチャートを作成する

レーダーチャートは円グラフと同じような性質を持ちます。

{{<imgproc radar-chart.png "推移でレーダーチャートを作成" />}}
{{<imgproc radar-chart-accumulation.png "累積でレーダーチャートを作成" />}}

## 入力フォーム毎の特性

ここまで例に上げたデータはいわゆる「数値」でした。数値入力フォームやスライダ入力フォームはいづれも数値として扱われます。
一方で個数として集計される項目もあります。またその両方の特性を併せ持つ入力フォームもあります。
例えば選択肢入力フォームは一覧から1つを選んで回答する入力フォームですが、これは選ばれた回数を数えてグラフ化できます。
選択肢の中に数字が含まれていれば数値として集計することも可能です。

各入力フォームごとに詳しく見てみましょう

### 選択肢入力フォームのグラフ化

選択肢入力フォームのみで構成された日報テンプレートを作ってみました。項目は3つ（線形ズレ・重量誤差・状態）です。

{{<imgproc report-sample-select.png "このような日報をグラフ化する" />}}

この内、線形ズレと重量誤差は選択肢に「数字」が含まれていることに着目してください。数字を数値として変換してグラフ化できます。
例として線形ズレを折れ線グラフにしてみます。

選択肢はデータ上、単語として記録されるため、単語の出現回数を基準として推移グラフを作成すると0か1になります。

{{<imgproc select_count.png "推移で選択肢は1回か0回しかありえないため、グラフ上は0/1のいづれかとなる" />}}

選択肢上の単語に数字が含まれている場合、可能な限り数値に変換してグラフ化できます。数値に変換する必要がある場合は「選択肢を数値化してグラフ化」を選択してください。
{{<imgproc words-to-digit.png "選択肢を数値化することで普通の数値のようにグラフ化される" />}}

数値化できない選択肢の場合は、0として扱われます。例えば「美品」のように選択肢内に数字が一切含まれない場合は変換できないため、グラフ上0として扱われます。

また選択肢は円グラフにすることも可能です。この場合は単語の出現回数を基準にグラフが生成されます。

{{<imgproc pie-chart-report.png "選択肢の出現回数を円グラフ化する" />}}

### レート入力フォームのグラフ化

レート入力フォームは以下のような見た目をしています。

{{<imgproc report-sample-rate.png "レート入力フォームの例" />}}

ネットショップやアプリストアでおなじみですね。
★1の選ばれた回数、★2の選ばれた回数などそれぞれで集計する（回数としてカウント）ことも、星の合計を集計することもできるという点で選択肢入力フォームと非常によく似ています。
選択肢は数値化できない物がある一方でレートの場合は必ず数値化できるのでグラフにおいてはこちらのほうが扱いやすさは上です。

{{<imgproc rate-chart-count.png "星の数で分けてグラフ化" />}}
{{<imgproc rate-chart-total.png "星の数の合計を求めてグラフ化" />}}

### 過去データ推移に追加した数式をグラフ化する

過去データの一覧表上に独自の数式を追加することができます。この例では「国語・算数・理科・英語・社会」の合計を求める数式を追加しています。

{{<imgproc calc-field.png "数式の追加" />}}

{{<alice pos="right" icon="ok">}}
数式について詳しくは[過去データ推移](/manual/report/analytics/transition/)のページをご覧ください
{{</alice>}}

数式として追加したデータもグラフの材料にすることができます。
グラフ作成時に使用するフォームを選ぶ画面上に、追加した数式が出現しますのでそちらをチェックしてください。

{{<imgproc field-select.png "独自に追加した数式をグラフとして使う" />}}

追加した数式はシステム上、数値として扱われるので数値入力フォームと同じような挙動をします。

{{<imgproc usage-guide.png "数式に指定した名前がそのままグラフの凡例として使用されます" />}}

## グラフを表示できるエリア

作成したグラフは日報の過去データ推移の画面のほか、集計画面でも表示できます。
過去データ推移では直近の日報のみを基準としてグラフ化しますが、1ヶ月単位など決まった期間でグラフを見たい場合は集計画面からグラフを表示してください。
過去データ推移で作ったグラフをそのまま集計画面でも利用できます。逆も同様です。
