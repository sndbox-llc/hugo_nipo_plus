+++
url = "/docs/system/fix/"
title = "🚧トラブルシューティング"
description = "NipoPlusの不具合が発生した場合の一般的なトラブルシューティング方法を紹介しています。画面が真っ白になる、更新通知が繰り返されるなどの問題を、再起動やキャッシュのクリア、Service Workerの解除などの手順で解決します"
toc = true
weight = 90050
+++

起動に失敗したときや、挙動がおかしいときは本章の手順に従ってトラブルを解決してください。

- 起動時に画面が真っ白になる
- 更新の通知が繰り返し表示される

## 再起動する{#reboot}

1. 10秒ほど画面を開いたままにする
1. NipoPlusのタブを閉じる
1. タブを再度開きNipoPlusへアクセスする

Web版のNipoPlusはPWAのため再起動はPCの再起動ではなくブラウザの再起動を意味します。
タブ型ブラウザであればNipoPlusのタブを閉じてから再度開いてください。
F5キーや更新ボタンではなく**必ずタブを閉じて**ください。
（リロードでは解消されません）

## 画面が真っ白になったときはService Workerの登録を解除{#sw}

ブラウザを閉じて開いても改善しない場合にお試しください。
アプリに更新があったときに更新プログラムのロードに失敗することがあります。この現象が発生すると**画面が真っ白になる**ことがあります。
更新処理が止まったまま次へ進むことができないために発生します。更新処理を手動で進めるか、更新前のデータを破壊することでこのエラーを回避できます。

1. 画面上で右クリック、検証をクリック
1. 検証パネルから「アプリケーション」を選択（見えない場合は隠れているので検証画面を広げてください）
1. Service Workersをクリック
1. 登録解除をクリック（SkipWaitingがあればそちらでも可）
1. 再起動する（リロードでOK）

{{<figure src="img/sv-rm.png"  alt="通称ホワイトスクリーンデス。画面が真っ白になる" caption="通称ホワイトスクリーンデス。画面が真っ白になる" >}}

Skip waitingが表示されるときは次のように見えます。Skipwaitingがある場合は登録解除のかわりにこのボタンでも復旧可能です。

{{<figure src="img/skip_waiting.png"  alt="Skip waiting" caption="Skip waiting" >}}

スマホ版で同様の事象が発生したときはアプリを一度強制終了して再起動してください。

※このエラーはiOS / Androidのアプリでは発生しません。PWA版でのみ発生します。

## お使いのブラウザを変更する{#browser}

可能であればGoogle Chormeを使用してください。

| ブラウザ名    | 推奨度 | 概要                                                                             |
| ------------- | ------ | -------------------------------------------------------------------------------- |
| Google Chorme | ○      | 最も推奨するブラウザです                                                         |
| safari        | ○      | ２番目に推奨するブラウザです                                                     |
| opera         | △      | Chromiumベースのブラウザで互換性が高いため動作するはずですが未確認です           |
| Edge          | △      | Chromiumベースのブラウザで互換性が高いため動作するはずですが未確認です           |
| firefox       | ✗      | Chromiumベースと異なるエンジンが使用されており、かつ動作確認テストはしていません |
| IE            | ✗      | おそらく起動しません                                                             |

## ブックマークのURLを確認する{#bookmark}

ブックマークのURLが極端に長い場合は正しいブックマークに修正してください。

誤りのURL❌

```bash {frame="none"}
https://nipoplus.sndbox.jp/#/room/BLyx3SG72rId24BnKcGC/Lpi7TCw4WV3xLVrrHOCs/blue-grey/home/PageNameGroupSettingStaff
```

正しいURL🟢

```bash {frame="none"}
https://nipoplus.sndbox.jp/
```

{{< callout context="note" title="シャープマーク（#）より後ろはブックマークに入れないこと" icon="outline/info-circle" />}}

## サイトキャッシュをクリアする{#clear}

{{< callout context="danger" title="匿名アカウントでキャッシュクリアすると再ログインができなくなります" icon="outline/alert-triangle" />}}

NipoPlusのキャッシュをクリアすることで動作が回復することがありますが、この手順は最終手段です。
キャッシュのクリアは次の手順で行います

1. 右クリックして検証をクリックする
2. 画面下部に検証パネルが表示される
3. 検証パネルから「アプリケーション」をクリック
4. ストレージをクリック
5. サイトデータを消去をクリック

まずは検証パネルを表示させます。画面余白エリアで右クリック、検証の順にクリックします。

{{<iTablet filename="img/kensho" msg="検証パネルを表示します。この手順はGoogle Chormeのケースです" alice="ok">}}

画面下部に検証パネルが表示されました。アプリケーション＞ストレージ＞サイトデータを消去の順にクリックします。

{{<figure src="img/console.png"  alt="検証パネル画面" caption="検証パネル画面" >}}

このパネルで消去されるのはNipoPlusの一時データだけで、日報やコメントなど重要なデータは削除されませんのでご安心ください。

{{< callout context="note" title="重要なデータはサーバにある" icon="outline/info-circle" >}}
レポートはサーバ上に保管されているのでここからは削除できません
{{< /callout >}}

1点注意してほしいこととしてはログイン情報は消えてしまいます。そのため、サイトのアプリキャッシュをクリアすると再度ログインが必要になりますのでご了承ください。

## アクセス権限に対するエラーについて{#auth_deny}

NipoPlusではお預かりしているレポートを厳重に管理するため、厳しいアクセス権限を設定しています。
適切な権限がない場合、権限不足のエラーが発生します。エラーにはいくつかの種類がありますが、主要なものは以下のとおりです。
いづれのケースでもURLを修正するだけで治ることがあります。

### この操作をする権限が足りないようです。と表示される{#deny_message}

このエラーは権限の足りないアカウントでデータにアクセスを試みたときに表示されます。
通常、権限が足りないアカウントではそのページへのリンクボタン自体が表示されませんが、URLを直接入力するとそのページへアクセスできます。
当然権限が足りないためエラーメッセージ―が表示されます。

ボタンが表示されないためこのエラーは通常起こり得ませんが、NipoPlusをブックマークに登録する際、運悪く権限の必要なページでブックマークをしてしまうと起動のたびにこのエラーが発生します。
ブックマークを

```bash {frame="none"}
https://nipoplus.sndbox.jp/
```

に修正することで起動時に権限不足のエラーが表示されなくなるはずです。

### このグループに対する権限がありません。と表示される{#group_deny}

グループから追放してしまった場合、そのグループに対するアクセス権限が失効し「このグループに対する権限がありません」というエラーが表示されます。
こちらもブックマークなどで権限があった時代にグループIDも含めたURLの状態でブックマークに保存すると、起動時にエラーが毎回表示されます。

## 問い合わせする{#inquery}

これまでの手順を行っても改善しない場合は[お問い合わせ](/others/inquery/)ください
