+++
url = "/docs/system/security/"
description = "クラウドサービスにおいてセキュリティは最も優先しなければならない課題です。NipoPlusを安心して利用いただくためにNipoPlusで行っているセキュリティ対策についてご紹介します"
tags = []
title = "🔐セキュリティ対策"
toc = true
weight = 3040
aliases = []
images = []
[sitemap]
  changefreq = "monthly"
  priority = 0.6
+++

クラウドサービスを利用するにあたりセキュリティを気にすることはとても重要です。NipoPlusではセキュリティ対策を最も重要な課題として常に安全に気を配り、お客様のデータを安全に保護できるよう努めております。
ここではNipoPlusがどのようなインフラ上に展開されて、どのようにデータを保護しているかについてご紹介します。

## GCPをベースとしたセキュリティ設計{#gcp}

NipoPlusは、[Google Cloud Platform - GCP](https://cloud.google.com/gcp/) を利用して、高度なセキュリティ対策を行っています。
世界的なIT企業であるGoogle社のサーバは堅牢で、容量、信頼性、パフォーマンス全てにおいて世界最高の水準を誇っています。
GCPは、データセンターの物理的セキュリティから、暗号化技術をはじめとする多層的なセキュリティ対策まで、幅広いセキュリティ機能を提供しています。
すべてのレポートは同じサーバに保管されますがA社のレポートをB社が閲覧することはできません。論理的に安全な壁により権限のないアクセスは遮断されます。
権限の有無とはなんでしょう？こたえはシンプルです。グループに所属しているメンバーであればグループ内のデータにアクセスする権限が付与されます。それ以外は一切遮断されます。

## Firebase Authenticationによる認証{#firebase_auth}

NipoPlusでは、Firebase Authenticationを利用して認証を行っています。Firebase Authenticationは、
Eメールとパスワードの組み合わせによる認証を行います。当然ですがユーザのパスワードは復元が不可能な形で暗号化され保管されます。
もとのパスワードはたとえ開発者であっても知ることはできません。


## 機密情報の暗号化{#encrypt}

NipoPlusでは、データベースやファイルなど、重要なデータを暗号化して保管しています。暗号化は、AES-256などの高度な暗号化アルゴリズムを使用して行われます。
暗号化のプロセスはNipoPlusの開発側ではなく、そもそものインフラであるGCP側が備えている機能です。土台から暗号化プロセスが走るため安全で堅牢です。


## SSL通信による暗号化{#ssl}

NipoPLUSでは、SSL通信によりデータの暗号化を実施しています。
ユーザがサイトにアクセスした際、HTTPSプロトコルによって暗号化通信が行われ、外部からの盗聴や改ざんなどの攻撃から情報を保護します。
[Web版NipoPlus](https://nipoplus.sndbox.jp/)をご利用の際はURLバーからSSL通信を確認することもできます。

※[Android](https://play.google.com/store/apps/details?id=jp.sndbox.nipoplus) / [iOS版](https://apps.apple.com/jp/app/id1625797169)のNipoPlusではURLバーは出ませんが、Web版同様安全な通信です



## No-SQL型のデータベースのため構造上SQLインジェクションを受け付けない{#no_sql}

SQLインジェクションという有名な攻撃手法があります。これは広く一般的に使われているリレーショナルデータベースを標的とした攻撃手法です。
NipoPlusが使用しているFirestoreとElasticはいづれもNo-SQL型であり確立された従来の攻撃手法が構造的に使えません。これはセキュリティ対策というよりは利用しているデータベースの特性の話になりますが、
リレーショナルデータベースの持つ潜在的なリスクがそもそも適用されないことは大きな安心材料となります。


## アカウントの保護{#account}

万が一ログインパスワードが漏洩してアカウントを乗っ取られた場合でもFirebaseの保護機能を使うことでアカウントを安全迅速に攻撃者から取り戻すことができます。
詳しくは[ログインE-mailの変更](/docs/manual/account/email/)のページで解説していますが、ログインメールアドレスが変更されると変更前のメールアドレスにも通知のメールが自動で届きます。
被害者はこのメールで不正な攻撃にすぐ気づくことができ、届いたメールのリンクから変更されたメールアカウントを巻き戻して取り返す仕組みが搭載されています。
また、万が一スタッフがNipoPlusのアプリを入れたスマートフォンを紛失したり盗難にあったとしても、管理者がスタッフアカウントをいつでも無効化することができます。
スタッフのパスワードを変更すれば既存の端末からはログアウトされるため、紛失や盗難にあっても安全にレポートの機密を守ることができます。
（認証トークンの寿命の関係で、パスワードリセットしても1時間程度はレポートを読めてしまう可能性があります。パスワード変更と無効化を併用して回避可能です。）

## セキュリティに関する質問と答え{#faq}


<dl class="faq">
  <dt>データセンターは国内にありますか？</dt>
  <dd>いいえ。米国にあります。保存されるデータはすべて米国の複数の拠点（マルチリージョン）に保管されています</dd>
  <dt>データセンターは安全ですか?</dt>
  <dd>はい。安全です。具体的な安全対策は<a href="https://firebase.google.com/terms/data-processing-terms?hl=ja#1.-data-center-and-network-security">Firebase公式サイトを参照してください</a></dd>
  <dt>ハードウェアの限界(メモリやCPU、ストレージ）の限界に対する対策は行われますか?</dt>
  <dd>はい。柔軟に拡張が行われます。 Firebaseはオートスケーリングのため、負荷が増えれば自動で性能が向上します（急激な増加には一時的な遅れが生じることもある）</dd>
  <dt>サーバの脆弱性に関するガイドラインや対策はマニュアル化されていますか？</dt>
  <dd>サーバレスのため管理はすべてFirebaseにまかせています。 自社でサーバの管理が無いからこそ「サーバレス」と呼ばれます。サーバに発見されたセキュリティリスクはFirebaseが修正を行うため、安心です</dd>
  <dt>ネットワークの回線と伝送は安全ですか？</dt>
  <dd>はい。安全です。<a href="https://firebase.google.com/terms/data-processing-terms?hl=ja#1.-data-center-and-network-security">Firebase公式サイト</a>にデータセンタに関する記載がありますので参照してください</dd>
  <dt>マルチテナント型（同じサーバに複数のクライアントを格納）ですか?</dt>
  <dd>すべてのお客様のデータを同一のサーバに格納しておりますが堅牢なアクセス制御により論理的に分離されております。</dd>
  <dt>データのバックアップは行われますか？</dt>
  <dd>24時間に1度のバックアップが行われます。データは最短10日以上保管されます</dd>
  <dt>データは暗号化されて保存されていますか？</dt>
  <dd>すべてのデータは暗号化されて保存されます。通信回線も暗号化（Https)されて送受信されています。</dd>
  <dt>従業員のITリテラシーの教育などは行っておりますか？</dt>
  <dd>いいえ。NipoPlusの開発は役員（1名）のみであり、従業員はいません。教育ではなく自己練磨を行っております。日々セキュリティに関する情報を自ら仕入れ、安全性を確保するよう努めております。</dd>
  <dt>従業員による情報の流出などについての罰則や、就業規則はありますか？</dt>
  <dd>いいえ。ありません。前述の通り、開発は1名であり会社として明確なルールは定めておりません。</dd>
  <dt>開発者のマスターパスワードは定期的に変更されていますか？</dt>
  <dd>いいえ。パスワードを定期的に変更していません。 パスワードの定期的な変更は一昔前の常識です。<a href="https://www.nikkei.com/article/DGXMZO28578370W8A320C1CC1000/">定期的なパスワードの変更は現在推奨されていません</a>（日経新聞記事）これは日本の総務省も推進しています。</dd>
  <dt>開発者の端末はセキュリティ対策ソフトが導入されていますか</dt>
  <dd>ESETウイルス対策ソフトを導入しています。 ウォッチガードなどのいわゆるUTMは利用しておりません</dd>
  <dt>開発に利用する端末は施錠できるロッカーに保存されていますか?または盗難防止用チェーンなどの対策は取られていますか？</dt>
  <dd>いいえ。かわりに<a href="https://support.apple.com/ja-jp/HT204837">ストレージは暗号化</a>されて保存されます</dd>
  <dt>守秘義務契約を結ぶことは可能ですか？</dt>
  <dd>基本的に個別の契約は行っておりません。利用規約の記載をご確認のうえご利用ください</dd>
</dl>

## 鍵のかかってない金庫に意味はない{#hint}

システムが安全性を提供するのは当然ですが使う側も安全に気を使う必要があることは理解してください。
例えばログインパスワードがpasswordや123456、000000などの推測されやすいパスワードは使うべきでは有りません。
本来はシステム側で大文字小文字数字を含めたパスワードを強制するべきですが、利便性と安全性のバランスを考えた結果、文字種類の制限は設けておりません。


[2021年の漏洩パスワードランキング](https://www.itmedia.co.jp/news/articles/2202/08/news101.html)によると、次のようなパスワードが漏洩上位にランクインしています。
このようなパスワードは設定しないように注意してください。

|順位|漏洩パスワード|
|---|---|
|1|123456|
|2|password|
|3|000000|
|4|1qaz2wsx|
|5|12345678|
|6|123456789|
|7|111111|
|8|sakura|
|9|dropbox|

{{<alice pos="right" icon="shield">}}
心当たりある人はもっとバレにくいパスワードにしないとだめだよ！
{{</alice>}}


