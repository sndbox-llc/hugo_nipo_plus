+++
title = "テキスト入力フォーム"
draft = false
tags = ["日報テンプレート", "入力フォーム", "編集者権限"]
weight = 100
description = "日報やチェックシート上に文字入力フォームを追加します。本文や備考・引き継ぎなどの文章入力エリアとして利用できます"
+++

{{<imgproc text.png   "テキスト入力フォームを含んだ日報テンプレートの例" />}}

テキスト入力フォームは日報やチェックシート上にシンプルな文字の入力フォームを追加できるパーツです。
PCからはキーボードを使って入力し、スマートフォンやタブレットでは液晶のキーボードを使って文字の入力ができます。
見た目は１行しか入力できないように見えますが、改行を入れることで入力エリアが自動で広がります。
主な用途としては業務報告内容や引き継ぎ項目、所感、備考欄などに活用できます。

## テキスト入力フォームの初期設定

テキスト入力フォームを日報やチェックシートのテンプレートに追加すると次のような設定項目が指定できます。

|名称|説明|
|---|---|
|表示名|項目見出しエリアに表示される文字です|
|色|項目見出しエリアの背景色を設定できます。灰色・茶色・緑色・紺色・赤色から選択してください。初期値は灰色です|
|サイズ|表示名の文字サイズを最小・小・中・大の４段階から設定できます。初期値は「中」です。表示名が長すぎる場合は設定が無視されます|
|メモ|入力エリアの画面左上に赤文字で表示されます。日報・チェックシートの作成者が迷うことのないように補足文として活用できます|
|入力必須|これがONの場合、日報提出時に文字が空欄だと日報が提出できなくなります|
|初期値|日報新規作成時に最初から文字を入力済みにできます。不要の場合は空欄にしておきます|
|幅|1〜12の幅を選択できます。推奨幅は4〜12です。（入力の量が多い場合は幅を12にすると見やすくなります。）|

## テキスト入力フォームの使用例

テキスト入力フォームを4つ含んだ日報テンプレートを作成してみました。1つは入力必須が設定され、1つは背景色を赤に変更しています。
実際のテンプレート作成イメージは次の画像のような構成です。

{{<imgproc template.png   "日報テンプレートの作成画面イメージ。テキスト入力フォームのみを4つ配置したシンプルな構図。入力必須と色の変更も使っています" />}}

この日報テンプレートを使って、実際に日報を作成する画面と、作成された日報を表示する画面をそれぞれ確認してみましょう。

### テキスト入力フォームの日報を作成

実際にスタッフが入力する際の画面を確認してみましょう。
テキスト入力フォームの入力イメージは次の画像のようになります。

{{<imgproc input.png   "テキスト入力フォームを含んだ日報の入力画面。タブレットとスマホで比較" />}}

「引き継ぎ」の項目は入力必須ですが空欄のため、画像のように「入力必須」の警告が表示されて提出ボタンが押せなくなります。また「報告」の欄では改行を入れていることが確認できます。
このように改行を入れると日報テンプレートの高さが行に合わせて自動で伸縮します。

{{<alice pos="right" icon="ok">}}
目立たせたい項目があればこのように背景色を変えることで強調されますね
{{</alice>}}

### テキスト入力フォームの日報を表示

特にひねりはなく、入力された文字がそのまま表示されます。使用している端末の画面幅によっては文字が自動で折り返されて表示されます。例えばスマートフォンから見ると見え方がまた変わります。

{{<imgproc post.png   "テキスト入力フォームを含んだ日報を受信したときの見え方" />}}

## データ活用編

テキスト入力フォームが含まれた日報はCSV出力やPDF出力、検索に対応しています。

|[集計可否](/report/totalling/form/)|[CSV出力](/report/totalling/csv/)|[PDF出力](/report/read/pdf/)|[文字検索](/report/read/list/)|
|:---:|:---:|:---:|:---:|
|✗|○|○|○|

### テキスト入力フォームのデータをCSVに出力する

テキストの日報はそのままCSVに出力できます。テキスト入力フォームにおいてはCSV出力の設定は特に有りません。

少し専門的な話になりますが、テキスト内で改行が使用された場合はそのまま「改行コード」としてCSVに出力されます。この際は本文全体がダブルクォーテーション（")で括られて出力されます。

{{<alice pos="right" icon="ok">}}改行が含まれないテキストデータはダブルクォーテーションが付与されません{{</alice>}}

例えば改行を含むデータをCSVに出力し、エクセルで表示した場合は次のように見えます
{{<imgproc csv.png   "テキスト入力フォームを含んだ日報をCSVに出力したときの例" />}}

### 検索機能

テキスト入力フォームで入力された値は全文検索用データベースにインデックスされるため、テキスト入力フォームのデータを対象に検索することができます。

{{<imgproc search.png   "テキスト入力フォームに入力された文字はすべて検索の対象となります。あいまい検索が適用されるため多少の誤字や全角・半角の違いは無視して検索できます" />}}

### PDF出力

PDFに出力したときはこのように表現されます
{{<imgproc pdf.png   "テキスト入力フォームを含んだ日報をPDFに出力する" />}}

## サンプルデータ

このページで使用した実際のサンプルをダウンロードできます

{{<attachments style="orange" />}}
