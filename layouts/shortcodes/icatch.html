{{ $moji := .Get "filename" }}
{{ $aliceIcon := .Get "alice" | default "default"}}
{{ $title := .Get "title" | default "SVGによるNipoPlus画面イメージ"}}
{{ $desc := .Get "desc" | default "未設定" }}
{{ $msg := .Get "msg" | default "zzz... zzz..."}}
{{ $fontsize := .Get "fontsize" | default "22px" }}

{{ $imgTablet := .Page.Resources.GetMatch (printf "%s_tablet*" ($moji)) }}

{{ $id := partial "make-random-md5.hugo" }}

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="withAliceNode" viewBox="0 0 1000 520" preserveAspectRatio="none">
  <title>{{ $title}}</title>
  <desc>{{ $desc }}</desc>
  <image  x="10" y="10" width="800" class="withAlicePicture" data-src="{{ $moji}}_" xlink:href="data:image/gif;base64,R0lGODlhAQABAIAAAP7//wAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" />
  <use xlink:href="#withAliceFrame" />
  <svg x="700" y="215" class="svgAliceClass" preserveAspectRatio="none" data-fontsize="{{ $fontsize }}" data-msg="{{ $msg }}">
    <image x="70" y="65" width="200" data-alice="/images/alice2/{{ $aliceIcon }}.png" xlink:href="data:image/gif;base64,R0lGODlhAQABAIAAAP7//wAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" />
    <path d="M216.086,82.566l-1.206,16.814l20.523,-16.814l15.221,0c10.47,0 18.97,-9.056 18.97,-20.21l-0,-40.419c-0,-11.154 -8.5,-20.21 -18.97,-20.21l-231.32,0c-10.47,0 -18.97,9.056 -18.97,20.21l0,40.419c0,11.154 8.5,20.21 18.97,20.21l196.782,0Z" style="fill:#fff;stroke:black"/>
  </svg>
</svg>
<a href="#{{ $id }}" class="lightbox-link">画像を拡大</a>
<a href="javascript:history.back();" class="lightbox" id="{{ $id }}">
  <img src="{{ $imgTablet.RelPermalink }}" alt="{{$desc}}" class="lightbox-image" loading="lazy">
</a>
<script type="application/ld+json">
  {
    "@context": "https://schema.org/",
    "@type": "ImageObject",
    "contentUrl": {{ $imgTablet.Permalink }},
    "license": "/system/credit/",
    "acquireLicensePage": "/system/credit/",
    "creditText": "sandbox LLC",
    "creator": {
      "@type": "Person",
      "name": "shinya ueda"
     },
    "copyrightNotice": "Nipo Plus"
  }
</script>

