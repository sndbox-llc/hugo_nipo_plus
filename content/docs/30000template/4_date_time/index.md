+++
url = "/docs/template/date_time/"
aliases = ["/docs/manual/initial-setting/template/date_time/"]
title = "【日付・時刻入力】をレポートテンプレートに追加"
menuTitle = "🧩日付時刻"
description = "テンプレートカスタムパーツの1つ。作業開始時間のように一定時点の日付時刻を入力できます。10:00 〜 13:00のように範囲を入力する場合は別途期間入力フォームをご利用ください"
toc = true
weight = 30704
tags = ["テンプレートパーツ", "テンプレート"]
contributors = []
+++

{{<icatch filename="img/date-time" msg="日付や時刻、期間等を入力するにはこれが一番！" alice="here">}}

## 概要{#about}

日付や時刻の入力に特化した入力フォームです。日報や点検表を書く際は「提出日」があらかじめ（テンプレートとは別に）用意されているので、それ以外で日付や時刻を必要とする場合に使用してください。
例えば作業に掛かった時間や作業の開始時刻〜終了時刻といった入力に適しています。

大きく分けて２種類の日付時刻が有ります。

<dl class="basic">
<dt><a href="#point">日付と時刻（時点）</a></dt>
<dd>作業終了時刻や作業終了日など、一定時点の入力に適しています</dd>
<dt><a href="#range">日付と時刻（期間）</a></dt>
<dd>稼働時間、作業時間のように「開始時点〜終了時点」の期間入力に適しています。日付や時刻を入力すると自動で所要時間が計算されて画面に表示されます</dd>
</dl>

## 日付と時刻（時点）{#point}

| [集計可否](/docs/manual/analytics/) | [CSV出力](/docs/manual/analytics/csv/) | [PDF出力](/docs/manual/read-report/state/#pdf_export) | [文字検索](/docs/manual/read-report/list/#searchFunction) |
| :---------------------------------: | :------------------------------------: | :---------------------------------------------------: | :-------------------------------------------------------: |
|                  ✗                  |                   ○                    |                           ○                           |                             ○                             |

日付と時刻(時点)は単体の時間のため、集計処理には対応していません。

### 日付と時刻（時点）フォームの初期設定{#settingDatetime}

{{<icatch filename="img/datetime-template-edit" msg="左のパーツリストから日付と時刻を追加します">}}

追加するにはサイドメニューから「日付と時刻」をクリックします。
日付のみ・時間のみ、などの設定は初期設定で設定できます。入力方法はキーボードから直接打つ方法のほか、カレンダーや時計マークから入力する方法がありますので、好みに応じて使い分けができます。

種類が多いので、実際の見た目はプレビューを開いて確認してください。

<details>
  <summary>詳細設定</summary>

<dl class="basic">
  <dt><a href="/tips/required/">入力必須</a></dt>
  <dd>これがONの場合、数値が空欄だとレポートの提出ができなくなります</dd>
  <dt>形式</dt>
  <dd>
  <ul>
  <li>日付（西暦あり）</li>
  <li>日付（西暦無し）</li>
  <li>時刻のみ</li>
  <li>日付と時刻</li>
  から選択します
  </dd>
</dl>

入力形式の4種類については次のような形式になります。

| 入力形式         | フォーマット     | 例               | 入力切替 |
| ---------------- | ---------------- | ---------------- | -------- |
| 日付（西暦有り)  | YYYY/MM/DD       | 2022/12/01       | 可       |
| 日付（西暦なし） | MM/DD            | 12/01            | 不可     |
| 時刻のみ         | HH:mm            | 13:21            | 可       |
| 日付と時刻       | YYYY/MM/DD HH:mm | 2022/12/01 13:21 | 不可     |

補足:[共通設定事項](/docs/template/make/#common_setting)

</details>

### 日付と時刻のデータをCSVに出力{#csv_1}

日付と時刻データはCSVに出力できます。出力は普通の文字列として行われます。

{{< excelTable >}}
提出日, 提出者, 提出者名, 状態, 予約日, 開始の時間, 実行の日時, 記念日, 約束の時間１, 時間だけ
2022/7/17 1:32, mM, 管理者, 新規, 7月17日, 2022/7/17 13:43, 2022/7/12, 2022/7/17, 13:33, 13:33
{{< /excelTable >}}

---

## 日付と時刻（期間）{#range}

作業にかかった時間や日数を入力するのに最適のフォームです。

{{<icatch filename="img/datetimes-icatch" msg="作業時間や期間、日付の計算も可能です"  alice="ok">}}

| [集計可否](/docs/manual/analytics/) | [CSV出力](/docs/manual/analytics/csv/) | [PDF出力](/docs/manual/read-report/state/#pdf_export) | [文字検索](/docs/manual/read-report/list/#searchFunction) |
| :---------------------------------: | :------------------------------------: | :---------------------------------------------------: | :-------------------------------------------------------: |
|                  ○                  |                   ○                    |                           ○                           |                             ○                             |

### 日付と時刻（期間）フォームの初期設定{#setting_2}

<dl class="basic">
  <dt>入力必須</dt>
  <dd>これがONの場合、数値が空欄だとレポートの提出ができなくなります</dd>
  <dt>初期状態でONにする</dt>
  <dd>これがONの場合、レポート作成時にこのチェックボックスはONの状態でスタートします</dd>

  <dt>集計する</dt>
  <dd>ON:集計機能で利用できます。集計が不要の場合はOFFにします</dd>

  <dt>形式</dt>
  <dd><ul><li>日付（西暦あり）</li><li>日付（西暦無し）</li><li>時刻のみ</li><li>日付と時刻</li></ul>4種類から選択します</dd>
  <dt>スライダ上の最小（時刻のみ）</dt>
  <dd>スライダ式で時刻入力する際のスライダの左端を何時にするか設定します。初期値は8:00です</dd>
  <dt>スライダ上の最大（時刻のみ）</dt>
  <dd>スライダ式で時刻入力する際のスライダの右端を何時にするか設定します。初期値は20:00です</dd>
  <dt>刻み（時刻のみ）</dt>
  <dd>1目盛りあたり何分進めるか設定します。初期値は30分です</dd>
</dl>

入力形式の4種類については次のような形式になります。

| 入力形式         | フォーマット     | 例               | 入力切替 |
| ---------------- | ---------------- | ---------------- | -------- |
| 日付（西暦有り)  | YYYY/MM/DD       | 2022/12/01       | 可       |
| 日付（西暦なし） | MM/DD            | 12/01            | 不可     |
| 時刻のみ         | HH:mm            | 13:21            | 可       |
| 日付と時刻       | YYYY/MM/DD HH:mm | 2022/12/01 13:21 | 不可     |

補足:[共通設定事項](/docs/template/make/#common_setting)

日付と時刻（範囲）では、入力した期間を下に自動で差分（経過した時間）を計算し画面に表示します。

{{< callout context="note" title="反復入力との合せ技" icon="outline/info-circle" >}}
[反復入力](/docs/template/array/)の中で日付と時刻（範囲）を使い、かつ入力形式が「時刻のみ」の場合、時刻の始点が自動セットされる入力補助が発動します
{{< /callout >}}

### 期間入力の集計は分単位で行われる{#subtotal}

期間は時間のため集計が可能です。集計は単位が分に統一されることに注意してください。
例えば10:00 - 11:30は1時間半ですが集計上は 90(分)となります。

{{<icatch filename="img/charts" msg="期間のデータ（単位：分）を使って棒グラフを作成してみました。色々できるよ。試してみてね" alice="ok">}}

{{< link-card title="レポートをグラフ化する" description="操作ガイド" href="/docs/manual/analytics/chart/" >}}

#### CSVs出力{#csv_2}

CSV出力時は開始時点・終了時点の2列に分けて出力されます。

{{< excelTable >}}
提出日, 【自】総稼働時間, 【至】総稼働時間, 【休憩】総稼働時間, 【自】内停止した時間, 【至】内停止した時間, 【休憩】内停止した時間, 業務報告
2023/06/13 08:44, 11:00, 23:00, , 21:10, 22:00, ,
2023/06/12 08:44, 14:00, 19:00, , 18:00, 18:39, ,
2023/06/09 08:44, 11:11, 22:22, , 14:00, 15:00, ,
2023/06/08 08:44, 08:00, 22:00, , 15:45, 19:00, , 停止した時間が長い
{{< /excelTable >}}
